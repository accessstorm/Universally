{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - AI Interview Prep{% endblock %}

{% block content %}
<style>
    /* Removed heatmap styles */
    /* Ensure Preline sidebar styles work well */
    /* The lg:ps-64 class on the main content div pushes content past the sidebar */
</style>

<!-- Preline Sidebar Layout -->
<!-- Navigation Header -->
<header class="sticky top-0 inset-x-0 flex flex-wrap sm:justify-start sm:flex-nowrap z-[48] w-full bg-white border-b text-sm py-2.5 sm:py-4 lg:ps-64 dark:bg-[#333333] dark:border-neutral-700">
    <nav class="flex basis-full items-center w-full mx-auto px-4 sm:px-6" aria-label="Global">
        <div class="me-5 lg:me-0 lg:hidden">
            <!-- Mobile Logo -->
            <a class="flex-none rounded-xl text-xl inline-block font-semibold focus:outline-none focus:opacity-80 dark:text-[#569cd6]" href="{% url 'landing_page' %}" aria-label="AI Prep">
                AI Prep
            </a>
        </div>

        <div class="w-full flex items-center justify-end ms-auto sm:justify-between sm:gap-x-3 sm:order-3">
            {# Reverting toggle button to original state (hidden on sm+) #}
            <div class="sm:hidden">
                <button type="button" class="hs-collapse-toggle p-2.5 inline-flex justify-center items-center gap-x-2 rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-white dark:hover:bg-neutral-700" data-hs-overlay="#application-sidebar" aria-controls="application-sidebar" aria-label="Toggle navigation">
                    <svg class="hs-collapse-open:hidden flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" x2="21" y1="6" y2="6"/><line x1="3" x2="21" y1="12" y2="12"/><line x1="3" x2="21" y1="18" y2="18"/></svg>
                    <svg class="hs-collapse-open:block hidden flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
                  </button>
            </div>

            <div class="hidden sm:block">
                <!-- Optional Search Bar Placeholder -->
            </div>

            <div class="flex flex-row items-center justify-end gap-2">
                 <span class="text-gray-600 dark:text-neutral-300 text-sm">Welcome, {{ user.username }}</span>
                 <!-- Logout is handled by base.html nav now -->
            </div>
        </div>
    </nav>
</header>
<!-- End Navigation Header -->

<!-- Sidebar -->
{# Reverting sidebar to original state (fixed open on lg+) #}
<div id="application-sidebar" class="hs-overlay [--auto-close:lg] hs-overlay-open:translate-x-0 -translate-x-full transition-all duration-300 transform w-[260px] hidden fixed inset-y-0 start-0 z-[60] bg-white border-e border-gray-200 lg:block lg:translate-x-0 lg:end-auto lg:bottom-0 dark:bg-[#252526] dark:border-neutral-700">
    <div class="px-8 pt-4">
        <!-- Sidebar Logo -->
        <a class="flex-none rounded-xl text-xl inline-block font-semibold focus:outline-none focus:opacity-80 dark:text-[#569cd6]" href="{% url 'landing_page' %}" aria-label="AI Prep">
           AI Interview Prep
        </a>
    </div>

    <nav class="hs-accordion-group p-6 w-full flex flex-col flex-wrap" data-hs-accordion-always-open>
        <ul class="space-y-1.5">
            <li>
                <a class="flex items-center gap-x-3.5 py-2 px-2.5 bg-gray-100 text-sm text-neutral-700 rounded-lg focus:outline-none focus:ring-1 focus:ring-blue-600 dark:bg-[#333333] dark:text-white" href="{% url 'dashboard' %}">
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" ><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    Dashboard
                </a>
            </li>
            <li>
                <a class="flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-neutral-700 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-600 dark:text-neutral-400 dark:hover:bg-[#333333] dark:hover:text-neutral-300" href="{% url 'users:profile' %}">
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="15" r="3"/><circle cx="9" cy="7" r="4"/><path d="M10 15H6a4 4 0 0 0-4 4v2"/><path d="m21.7 16.4-.9-.3"/><path d="m15.2 13.9-.9-.3"/><path d="m16.6 18.7.3-.9"/><path d="m19.1 12.2.3-.9"/><path d="m19.6 18.7-.4-1"/><path d="m16.8 12.3-.4-1"/><path d="m14.3 16.6 1-.4"/><path d="m20.7 13.8 1-.4"/></svg>
                    Profile
                </a>
            </li>
            <li>
                <a class="flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-neutral-700 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-600 dark:text-neutral-400 dark:hover:bg-[#333333] dark:hover:text-neutral-300" href="{% url 'quiz:configure_quiz' %}">
                     <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z"/><path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2V11a2 2 0 0 1 2-2h2Z"/></svg>
                      Practice Quiz
                 </a>
             </li>
             <li> {# Add link to Predictor Tool #}
                <a class="flex items-center gap-x-3.5 py-2 px-2.5 text-sm text-neutral-700 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-600 dark:text-neutral-400 dark:hover:bg-[#333333] dark:hover:text-neutral-300" href="{% url 'predictor:predictor_tool' %}">
                    <svg class="flex-shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/></svg> {# Simple chart icon #}
                    CSV Predictor
                </a>
            </li>
             <!-- Add other sidebar links here -->
         </ul>
     </nav>
</div>
<!-- End Sidebar -->

<!-- Content Area -->
{# Keeping lg:ps-64 as it might be needed for layout calculations #}
<div class="w-full lg:ps-64">
    <div class="p-4 sm:p-6 space-y-4 sm:space-y-6">
        <!-- Grid for Cards -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">

            <!-- Card: AI Questions -->
            <div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-[#252526] dark:border-neutral-700">
                <div class="p-4 md:p-5">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white">
                        Practice Questions
                    </h3>
                    <p class="mt-1 text-gray-500 dark:text-neutral-400">
                        Generate AI-powered questions for your target role.
                    </p>
                    <div class="mt-4">
                        <p class="text-sm text-gray-500 dark:text-neutral-400">Configure and start a new practice quiz.</p>
                        <a href="{% url 'quiz:configure_quiz' %}" class="mt-2 py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-[#0e639c] text-white hover:bg-[#1177bb] disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0e639c] dark:focus:ring-offset-gray-800">
                            Start New Quiz
                        </a>
                    </div>
                </div>
            </div>
            <!-- End Card -->

            <!-- Card: User Progress -->
            <div class="flex flex-col bg-white border shadow-sm rounded-xl dark:bg-[#252526] dark:border-neutral-700">
                <div class="p-4 md:p-5">
                    <h3 class="text-lg font-bold text-gray-800 dark:text-white">
                        Your Progress
                    </h3>
                    <p class="mt-1 text-gray-500 dark:text-neutral-400">
                        Overview of your performance.
                    </p>
                    <div class="mt-4">
                        <!-- Placeholder for progress charts/stats -->
                        <p class="text-sm text-gray-500 dark:text-neutral-400">[Progress Visualization Area - Coming Soon]</p>
                    </div>
                </div>
            </div>
            <!-- End Card -->

        </div>
        <!-- End Grid -->

        <!-- Main Content Area for Questions/Answers -->
        <div class="bg-white border shadow-sm rounded-xl p-4 md:p-5 dark:bg-[#252526] dark:border-neutral-700">
            <h3 class="text-lg font-bold text-gray-800 dark:text-white mb-3">
                Practice Area
            </h3>
            <!-- Placeholder for displaying a question and answer input -->
            <p class="text-gray-500 dark:text-neutral-400">Select 'Start New Quiz' to begin practicing.</p>
        </div>

    </div>
</div>
<!-- End Content Area -->

<!-- Removed JavaScript for Heatmap -->
{% endblock %}
